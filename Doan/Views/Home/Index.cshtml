
@{
    ViewBag.Title = "Trang chủ";
}

<main>
    <div class="slider">
        <div class="image-item">
            <div class="image">
                <img style="width: 100%; margin-top:5%;" src="~/Content/assets/images/news-1.jpg">
            </div>
        </div>
        <div class="image-item">
            <div class="image">
                <img style="width: 100%; margin-top:5%;" src="~/Content/assets/images/news-1.jpg">
            </div>
        </div>
        <div class="image-item">
            <div class="image">
                <img style="width: 100%; margin-top:5%;" src="~/Content/assets/images/news-1.jpg">
            </div>
        </div>
        <div class="image-item">
            <div class="image">
                <img style="width: 100%; margin-top:5%;" src="~/Content/assets/images/news-1.jpg">
            </div>
        </div>
        <div class="image-item">
            <div class="image">
                <img style="width: 100%; margin-top:5%;" src="~/Content/assets/images/news-1.jpg">
            </div>
        </div>
    </div>

    <h3 class="title">Sản Phẩm</h3>

    <div class="three-slider">
        @Html.Action("HienThiSP", "Home")
    </div>
    <!--Phần chi tiết sản phẩm-->
    <div class="detail-bg" style="display:none;">
        <div class="close-icon"><i class="fas fa-times"></i></div>
        <div class="detailContent">

        </div>
    </div>

    <h3 class="title">Giới Thiệu </h3>

    <div class="intro">
        <div class="intro-bg-in">
            <div class="intro-text">
                <p>
                    <span class="name">mămăm bakery</span> xin mến chào quý khách,
                </p>
                <p>
                    Chúng tôi mang đến những chiếc bánh chất lượng và độc đáo, cùng với chất lượng phục vụ tuyệt vời. Hãy để <span class="name">mămăm</span> thổi vào cuộc sống của bạn một chút ngọt ngào và hạnh phúc mỗi ngày!
                </p>
                <p>
                    Chúng tôi không chỉ là cửa hàng bán bánh, mà còn là địa điểm lý tưởng cho những người yêu thưởng thức hương vị tinh tế và đẳng cấp của các loại bánh ngọt. <span class="name">mămăm bakery</span> tự hào về sự sáng tạo và đội ngũ đầu bếp chuyên nghiệp của mình, luôn nỗ lực tạo ra những sản phẩm chất lượng nhất, từng chiếc bánh là một tác phẩm nghệ thuật.
                </p>
                <p>
                    Hãy ghé thăm <span class="name">mămăm bakery</span> tại: 99 Đ. Nguyễn Văn Nguyễn, Phường Tân Định, Quận 1, Thành phố Hồ Chí Minh. Hoặc để biết thêm các thông tin liên hệ khác, quý khách hàng vui lòng di chuyển đến thẻ LIÊN HỆ.
                </p>
                <p class="quote">
                    <b>"Cuộc sống có thể ngọt ngào hơn bằng một miếng bánh!"</b>
                </p>
            </div>
        </div>
    </div>

    <h3 class="title">Review </h3>
    <div class="con-review">
        <div class="review">
            <div class="review-text">
                <div class="user-text">
                    <i class="fa-regular fa-message"></i>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    <span>JERRY CUTE</span>
                </div>
                <div class="user-text active-text">
                    <i class="fa-regular fa-message"></i>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    <span>Trin trin</span>
                </div>
                <div class="user-text">
                    <i class="fa-regular fa-message"></i>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    <span>JERRY CUTE</span>
                </div>
                <div class="user-text">
                    <i class="fa-regular fa-message"></i>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    <span>JERRY CUTE</span>
                </div>
                <div class="user-text">
                    <i class="fa-regular fa-message"></i>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    <span>JERRY CUTE</span>
                </div>
            </div>

            <div class="review-pic">
                <img src="~/Content/assets/images//ava.png" class="user-pic" onclick="showReview()">
                <img src="~/Content/assets/images//ava.png" class="user-pic active-pic" onclick="showReview()">
                <img src="~/Content/assets/images//ava.png" class="user-pic" onclick="showReview()">
                <img src="~/Content/assets/images//ava.png" class="user-pic" onclick="showReview()">
                <img src="~/Content/assets/images//ava.png" class="user-pic" onclick="showReview()">

            </div>
        </div>
    </div>
</main>



@section scripts{
    <script>

        $(document).on('click', '.view-link', function () {
            var id = $(this).data('id');
            ShowDetailProduct(id);
            return false;
        });

        function ShowDetailProduct(id) {
            $.ajax({
                url: '/Home/ChitietSP',
                type: 'GET',
                data: { id: id },
                success: function (res) {
                    var product = res;
                    var html = '<div class="row-product">'
                    html += '<div class="col col-img"><img src="/ProductImg/' + product.product_image + '" id="detail-img"></div>'
                    html += '<div class="col col-info">'
                    html += '<h2 id="detail-name">' + product.product_name + '</h2>'
                    html += '<p id="detail-price">' + product.product_price + ' vnđ' + '</p>'
                    if (product.product_ingredients) {
                        html += '<p id="detail-ingredients">Thành phần chính: ' + product.product_ingredients + '</p>';
                    }
                    if (product.product_description) {
                        html += '<p id="detail-description">Miêu tả: ' + product.product_description + '</p>';
                    }
                    html += '<div class="availability">'
                    html += '<div class="available">'
                    html += '<span id="quantity-available"> Có sẵn: ' + product.quantity + '</span>'
                    html += '</div>'
                    html += '<div class="out-of-stock">'
                    html += '<span>Hết hàng</span>'
                    html += '</div>'
                    html += '</div>'
                    html += '<div class="quantity">'
                    html += '<button id="decrement">-</button>'
                    html += '<div class="quantity-input">'
                    html += '<input type="number" id="quantity" value="1" min="1" max="' + product.quantity + '">'
                    html += '</div>'
                    html += '<button id="increment">+</button>'
                    html += '</div>'
                    html += '<button id="addToCart">Thêm vào giỏ hàng</button>'
                    html += '</div>'
                    html += '</div>';

                    $('.detailContent').html(html);
                    // Hiển thị phần chi tiết sản phẩm
                    $('.detail-bg').css('display', 'block');

                    // Lắng nghe sự kiện click cho nút "Thêm vào giỏ hàng"
                    document.getElementById("addToCart").addEventListener("click", function () {
                        var quantity = document.getElementById("quantity").value; // Lấy giá trị số lượng từ ô nhập input
                        var productId = product.product_id;
                        var url = "/Cart/AddItem?productId=" + productId + "&quantity=" + quantity; // Sử dụng số lượng trong URL
                        window.location.href = url;
                    });

                    // Kiểm tra số lượng sản phẩm có sẵn và hiển thị trạng thái tương ứng
                    if (product.quantity > 0) {
                        $('.available').show();
                        $('.out-of-stock').hide();
                    } else {
                        $('.available').hide();
                        $('.out-of-stock').show();

                        // Ẩn quantity và nút mua
                        $('.quantity').hide();;
                        $('#addToCart').hide();

                    }

                    //nút tăng giảm số lượng
                    const quantityInput = document.getElementById("quantity");
                    const incrementButton = document.getElementById("increment");
                    const decrementButton = document.getElementById("decrement");

                    incrementButton.addEventListener("click", () => {
                        quantityInput.stepUp(1);
                    });

                    decrementButton.addEventListener("click", () => {
                        if (quantityInput.value > 1) {
                            quantityInput.stepDown(1);
                        }
                    });


                }
            });
        }


        //Tắt phần nd chi tiết
        // Lấy biểu tượng "x" và phần tử "detail-bg"
        const closeIcon = document.querySelector('.close-icon');
        const detailbg = document.querySelector('.detail-bg');

        // Gắn sự kiện click cho biểu tượng "x"
        closeIcon.addEventListener('click', function () {
            // Ẩn/tắt "detail-bg" khi nhấn vào biểu tượng "x"
            detailbg.style.display = 'none';
        });



    </script>


    
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                document.getElementById("searchButton").addEventListener("click", function () {
                    var keyword = document.getElementById("searchInput").value.trim();
                    var url = "/Home/ResultFind/" + encodeURIComponent(keyword);
                    window.location.href = url;
                });

                document.getElementById("searchInput").addEventListener("keypress", function (event) {
                    if (event.key === 'Enter') {
                        var keyword = document.getElementById("searchInput").value.trim();
                        var url = "/Home/ResultFind/" + encodeURIComponent(keyword);
                        window.location.href = url;
                    }
                });
            });
        </script>
    
}

